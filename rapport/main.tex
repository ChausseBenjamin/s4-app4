\documentclass[a11paper]{article}

\usepackage{karnaugh-map}
\usepackage{subcaption}
\usepackage{tabularx}
\usepackage{titlepage}
\usepackage{document}
\usepackage{booktabs}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{float}
\usepackage{longtable}
\usepackage{varwidth}
\usepackage{graphicx}
\usepackage{siunitx}
\usepackage{pifont}
% \usepackage[toc,page]{appendix}
\usepackage[usenames,dvipsnames]{xcolor}

\title{Rapport d'APP}

\class{Logique Combinatoire}
\classnb{GEN420 \& GEN430}

\teacher{Keven Deslandes}

\author{
  \addtolength{\tabcolsep}{-0.4em}
  \begin{tabular}{rcl} % Ajouter des auteurs au besoin
      Benjamin Chausse & -- & CHAB1704 \\
      Shawn Couture    & -- & COUS1912 \\
  \end{tabular}
}

\newcommand{\todo}[1]{\begin{color}{Red}\textbf{TODO:} #1\end{color}}
\newcommand{\note}[1]{\begin{color}{Orange}\textbf{NOTE:} #1\end{color}}
\newcommand{\fixme}[1]{\begin{color}{Fuchsia}\textbf{FIXME:} #1\end{color}}
\newcommand{\question}[1]{\begin{color}{ForestGreen}\textbf{QUESTION:} #1\end{color}}

\newcommand{\quicktab}[4]{
  \begin{table}[H]
    \centering
    \caption{#1}
    \label{tab:#2}
    \begin{tabular}{#3}
      #4
    \end{tabular}
  \end{table}
}

\newcommand{\quickfig}[4]{
\begin{figure}[H]
  \centering
  \includegraphics[width=#3\textwidth]{#4}
  \caption{#1}
  \label{fig:#2}
\end{figure}
}

% Checkboxes
\setlength{\fboxsep}{1pt}
\newcommand{\cbox}{\fbox{\phantom{\ding{51}}}}
\newcommand{\cboxtick}{\fbox{\ding{51}}}%
% self-incrementing Test-ID
\newcounter{tid}
\newcommand{\tid}{\stepcounter{tid}\thetid}

\renewcommand{\frenchtablename}{Tableau}


\begin{document}
\maketitle
\newpage
\tableofcontents
\listoffigures
\listoftables
\newpage

\section{Plan de vérification}

\begin{center}
  \footnotesize
	\begin{longtable}{lp{4cm}p{4cm}p{5cm}l}
		% Headers & Footers {{{
		\caption{Plan de vérification} \label{tab:verif}
		\\

		\toprule
		\multicolumn{3}{l}{Objectif Ciblé} &
		\multicolumn{2}{l}{Test des nouvelles opérations}
		\\

		\midrule
		\#                                 &
		\bfseries Test                     &
		\bfseries Action                   &
		\bfseries Résultat Attendu         &
		\cboxtick
		\\

		\midrule
		\endfirsthead

		\multicolumn{5}{c}%
		{{\itshape \tablename\ \thetable{} -- Continué de la page précédente\ldots}}
		\\

		\midrule
		\#                                 &
		Test                               &
		Action                             &
		Résultat Attendu                   &
		\cboxtick
		\\

		\midrule
		\endhead

		\midrule \multicolumn{5}{r}{{Continué à la prochaine page}}
		\\
		\midrule
		\endfoot

		\bottomrule
		\endlastfoot
		% }}}
		% Tests {{{
		\tid                                       &
    Temps de transition Non-Ou &
		Éxecuter \verb|nor_test.asc| et ourvir les logs &
		Le temps de transition \verb|transition_up| et \verb|transition_down| sont
    en bas de 130ps &
		\cbox \\

	\tid                                         &
    Temps de transition Non-Ou                 &
		Éxecuter \verb|nor_test.asc| et ourvir les logs &
		Le temps de transition \verb|transition_up| et \verb|transition_down| sont
    en bas de 130ps &
		\cbox \\

	  \tid &
    Temps de transition Non-Et &
		Éxecuter \verb|nand_test.asc| et ourvir ses logs &
		Le temps de transition \verb|transition_up| et \verb|transition_down| sont
    en bas de 130ps &
		\cbox \\

		\tid &
    Temps de transition Non-Ou &
		Éxecuter \verb|nor_test.asc| et ourvir ses logs &
		Le temps de transition \verb|transition_up| et \verb|transition_down| sont
    en bas de 130ps &
		\cbox \\

	  \tid &
    Temps de transition Non-Et &
		Éxecuter \verb|nand_test.asc| et ourvir ses logs &
		Le temps de transition \verb|transition_up| et \verb|transition_down| sont
    en bas de 130ps &
		\cbox \\

	  \tid &
    Temps de transition Ou exclusif &
		Éxecuter \verb|xor_test.asc| et ourvir ses logs &
		Le temps de transition \verb|transition_up| et \verb|transition_down| sont
    en bas de 130ps & \\

	  \tid &
    TVm du Non-Et &
		Éxecuter \verb|nand_transfer.asc| et ourvir ses logs &
		Le Vm est proche de VDD/2 (0.9) &
		\cbox \\

	  \tid &
    Vm du Ou exclusif &
		Éxecuter \verb|xor_transfer.asc| et ourvir ses logs &
		Le Vm est proche de VDD/2 (0.9) &
		\cbox \\

    % - Buffer - %

    \tid &
    Temps de propagation &
		Éxecuter \verb|pad_buffer_test.asc| et ourvir ses logs &
		Le temps de propagation est plus rapide que l'autre alternative
    d'inverseurs. &
		\cbox \\

    % - ALU - %

    \tid &
    Largeur de transistors &
		Vérifier les largeurs des transistors &
		Tout les transistors on une longueur de 180n et une largeur égal ou en haut
    de 180n &
		\cbox \\

    % - AND 3 bit - %

    \tid &
    Sortie du ET 3 bits &
		Executer \verb|and3b_test.asc| et analyzer le graphique généré &
		Les sorties respectent la table de vérité d'une porte ET. &
		\cbox \\

    \tid &
    Temps de transition du ET 3 bits &
		Executer \verb|and3b_test_transfer.asc| et ouvrir les logs &
		Le temps de transition entre les entrées et les sorties sont d'au plus
    200ps &
		\cbox \\

    % - ADD 3 bit - %

    \tid &
    Sortie de l'additionneur 3 bits &
		Executer \verb|add3b_test.asc| et analyzer le graphique généré &
		Les sorties respectent la table de vérité d'un additionneur 3 bits. &
		\cbox \\

    \tid &
    Temps de transition du ET 3 bits &
		Executer \verb|add3b_test_transfer.asc| et ouvrir les logs &
		Le temps de transition entre les entrées et les sorties sont d'au plus 200ps &
		\cbox \\


    % }}}
	\end{longtable}
\end{center}

\section{Shématiques}
\label{appdx:schematics}

\quickfig{Additionneur 1 Bit}{add1b}{.6}{assets/add1b.png}
\quickfig{Additionneur 3 Bits}{add3b}{.4}{assets/add3b.png}
\quickfig{ET 3 Bits}{and3b}{.4}{assets/and3b.png}
\quickfig{Multiplexeur de 2 entrées de 1 Bits}{mux2x1b}{.5}{assets/mux2x1b.png}
\quickfig{Multiplexeur de 2 entrées de 3 Bits}{mux2x3b}{.5}{assets/mux2x3b.png}
\quickfig{Tampon de sortie}{pad_buffer}{.5}{assets/pad_buffer.png}
\quickfig{Unité d'arithmétique logique (UAL)}{alu}{.6}{assets/alu.png}


\section{Conception du Multiplexeur 2 vers 1}

Afin de simplifier la résolution de sa table de vérité \ref{tab:mux2x1b}, les fils suivant chaque porte logique
on été ajoutés commes étapes intermédiaires.

\quicktab{Multiplexeur 2 vers 1 Bit}{mux2x1b}{ccccccc}{
  \toprule
  \multirow{2}{*}{$s_{el}$} &
  \multirow{2}{*}{$a$} &
  \multirow{2}{*}{$b$} &
  $T_1$ &
  $T_2$ &
  $T_3$ &
  $o_{ut}$ \\
  & & &
  $\overline{s}$ &
  $\overline{(aT_1)}$ &
  $\overline{(bs)}$ &
  $\overline{(T_2T_3)}$ \\
  \midrule
  0&0&0&1&1&1&0 \\
  0&0&1&1&1&1&0 \\
  0&1&0&1&0&1&1 \\
  0&1&1&1&0&1&1 \\
  1&0&0&0&1&1&0 \\
  1&0&1&0&1&0&1 \\
  1&1&0&0&1&1&0 \\
  1&1&1&0&1&0&1
  \\
  \bottomrule
}

\begin{align}
  Y &= \overline{(T_2T_3)} = o_{ut}  \\
  &= \overline{(\overline{[aT_1]}\cdot\overline{[bs]} )} \\
  &= \overline{(\overline{[a\overline{s}]}\cdot\overline{[bs]} )} \\
  &= \overline{\overline{[a\overline{s}]}} + \overline{\overline{[bs]}} \\
  Y &= a\overline{s} + bs \\
  \overline{Y} &= \overline{(a\overline{s} + bs)} \\
  \overline{Y} &= \overline{(a\overline{s})} \cdot \overline{(bs)} \\
  \overline{Y} &= (\overline{a}+\overline{\overline{s}}) \cdot (\overline{b}+\overline{s}) \\
  \overline{Y} &= (\overline{a}+s) \cdot (\overline{b}+\overline{s}) \\
\end{align}


\section{Le tampon de sortie}
$$
x^n=\frac{C_L}{C}
$$
$$
x^n=\frac{1.5\times10^{-12}}{1\times10^{-15}}
$$
$$
x^n=1500
$$
$$
x^n=1500
$$
- on sait que $x=e$, donc:
$$
n=\ln(1500)
$$
$$
n\approx7.31
$$
- On veut un nombre paire pour évité d'inverser le signal. C'est donc soit $8$ ou $6$.
- Moins d'inverseur = moins de délai de propagation. Mais plus d'inverseur = plus de facilité. Cependant, on veut minimiser le délai de propagation.
- Il reste donc à calculer la valeur du facteur x pour les deux valeurs de n et de calculer le plus petit délai de propagation.
- Donc, pour n=6:
$$
x^6=1500
$$
$$
x=1500^{\frac{1}{6}}
$$
$$
x\approx3.38
$$
- Pour n=8
$$
x^8=1500
$$
$$
x=1500^{\frac{1}{8}}
$$
$$
x\approx2.49
$$
- Après un essaie dans LTspice et des mesures avec des curseurs et des directives, 6 inverseurs donne un délai de propagation moindre que 8 inverseurs.
- On obtient 365ps au lieu de 406ps.

\section{Prises de mesures}

\quicktab{Temps de transition des composantes en montée}{ttLH-Sortie}{ll}{
\toprule
Composante & Temps de montée 10\%-90\% ($\SI{}{\pico\s}$) \\
\midrule
AND & 83 \\
ADD & 100 \\ % 100 ns = 100,000 ps
ALU & 95 \\
\bottomrule
}

- Les mesures de temps de propagations ont été mesurer à 50\% des signaux au lieu du 90\% à 10\% pris pour les temps de transitions.

\quicktab{Délais de propagation des composantes}{propagation}{llll}{
\toprule
Composante & Signal & Bas vers Haut ($\SI{}{\pico\s}$) & Haut vers Bas ($\SI{}{\pico\s}$) \\
\midrule
AND & $a_1 \rightarrow o_1$ & 89 & 101 \\
ADD & $a_1 \rightarrow o_1$ & 243 & 237 \\
ADD & $c_{in} \rightarrow o_1$ & 555 & 536 \\
\bottomrule
}



\input{annexes.tex}

\end{document}
