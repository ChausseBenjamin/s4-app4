* C:\users\lyam\Documents\University\S4\APP4\GitHub\s4-app4\spice\pad_buffer_test.asc
V1 vdd 0 {vv}
V2 vin 0 PULSE(0 {vv} 1000p 1p 1p 2000p 4000p 5)
C1 out 0 1.5p
XX11 vin out vdd 0 pad_buffer params: wp={nnw*mp} wn={nnw} ll={180n}

* block symbol definitions
.subckt pad_buffer In out vdd vss
XX1 in N002 vdd vss inv params: ll=180n wn={nnw} wp={nnw*mp}
XX2 N002 N003 vdd vss inv params: ll=180n wn={nnw*fac} wp={nnw*mp*fac}
XX3 N003 N004 vdd vss inv params: ll=180n wn={nnw*fac*fac} wp={nnw*mp*fac*fac}
XX4 N004 N005 vdd vss inv params: ll=180n wn={nnw*fac*fac*fac} wp={nnw*mp*fac*fac*fac}
XX5 N005 N006 vdd vss inv params: ll=180n wn={nnw*fac*fac*fac*fac} wp={nnw*mp*fac*fac*fac*fac}
XX6 N006 out vdd vss inv params: ll=180n wn={nnw*fac*fac*fac*fac*fac} wp={nnw*mp*fac*fac*fac*fac*fac}
XX7 vss N001 vdd vss inv params: ll=180n wn={nnw*fac*fac*fac*fac*fac*fac} wp={nnw*mp*fac*fac*fac*fac*fac*fac}
XX8 N001 P001 vdd vss inv params: ll=180n wn={nnw*fac*fac*fac*fac*fac*fac*fac} wp={nnw*mp*fac*fac*fac*fac*fac*fac*fac}
R4 vss P001 1
.param wpad=360u fac=3.38
.lib BU_180nm.lib
.ends pad_buffer

.subckt inv In _Q vdd vss
M1 _Q In vss vss NMOS l={ll} w={wn} ad={450n*{wn}} as={450n*{wn}} pd={900n+{wn}} ps={1080n+{wn}}
M2 vdd In _Q vdd PMOS l={ll} w={wp} ad={450n*{wp}} as={450n*{wp}} pd={900n+{wp}} ps={1080n+{wp}}
.lib BU_180nm.lib
.ends inv

.model NMOS NMOS
.model PMOS PMOS
.lib C:\users\lyam\Documents\LTspiceXVII\lib\cmp\standard.mos
.param vv=1.8
.lib BU_180nm.lib
.tran 0 10000p 0 10p
.param mp=2.5 nnw=180n
.meas tran t1 find time when v(out)=vv*0.1 rise 1
.meas tran t2 find time when v(out)=vv*0.9 rise 1
.meas tran t3 find time when v(out)=vv*0.1 fall 1
.meas tran t4 find time when v(out)=vv*0.9 fall 1
.meas tran t5 find time when v(vin)=vv*0.5 rise 1
.meas tran t6 find time when v(vin)=vv*0.5 fall 1
.meas tran t7 find time when v(out)=vv*0.5 rise 1
.meas tran t8 find time when v(out)=vv*0.5 fall 1
.meas tran transition_up param abs(t2-t1)
.meas tran transition_down param abs(t4-t3)
.meas tran ratio param transition_up/transition_down
.meas tran propagation param abs(t5-t7)
.meas tran propagationFall param abs(t6-t8)
.backanno
.end
